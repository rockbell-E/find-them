<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>
  <link rel="stylesheet" href="/css/empresaEditWorker.css">
  <link rel="stylesheet" href="/css/header-footer.css">
</head>
<body>
  <%- include('../partials/header') %>
  
  <main>
    <h1><%= title %></h1>
    <% if (error) { %>
      <p class="error"><%= error %></p>
    <% } %>
    
    <% if (worker) { %>
      <form action="/empresa/workers/<%= worker.id %>" method="POST">
        <div class="form-group">
          <label for="firstName">Primer Nombre:</label>
          <input type="text" id="firstName" name="firstName" value="<%= worker.firstName %>" required>
        </div>
        <div class="form-group">
          <label for="secondName">Segundo Nombre:</label>
          <input type="text" id="secondName" name="secondName" value="<%= worker.secondName %>">
        </div>
        <div class="form-group">
          <label for="lastName">Apellido Paterno:</label>
          <input type="text" id="lastName" name="lastName" value="<%= worker.lastName %>" required>
        </div>
        <div class="form-group">
          <label for="motherLastName">Apellido Materno:</label>
          <input type="text" id="motherLastName" name="motherLastName" value="<%= worker.motherLastName %>" required>
        </div>
        <div class="form-group">
          <label for="position">Cargo:</label>
          <select id="position" name="position" required>
            <% cargos.forEach(cargo => { %>
              <option 
                value="<%= cargo.name %>" 
                <%= cargo.name === worker.position ? 'selected' : '' %>
              ><%= cargo.name %></option>
            <% }) %>
          </select>
        </div>
        <div class="form-group">
          <label for="location">Ubicaci√≥n:</label>
          <select id="location" name="location" required>
            <% sucursales.forEach(s => { %>
              <option 
                value="<%= s.name %>" 
                <%= s.name === worker.location ? 'selected' : '' %>
              ><%= s.name %></option>
            <% }) %>
          </select>
        </div>
        <button type="submit">Actualizar Trabajador</button>
      </form>
    <% } else { %>
      <p>Trabajador no encontrado.</p>
    <% } %>
  </main>
  
  <%- include('../partials/footer') %>
</body>
</html>
